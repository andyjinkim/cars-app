function reverse(){return function(r){return r.slice().reverse()}}function carForm(){var r={restrict:"E",templateUrl:"/partials/car-form.html"};return r}function navBar(){var r={restrict:"E",templateUrl:"/partials/nav.html",transclude:!0};return r}function cars(r){var a="/api/cars",t={};return t.list=function(){return r.get(a)},t.show=function(t){return r.get(a+"/"+t)},t.addCar=function(t){return r.post(a,t)},t.updateCar=function(t,e){return r.patch(a+"/"+t,e)},t.removeCar=function(t){return r["delete"](a+"/"+t)},t}function carsController(r,a,t){var e=this;e.name="Car List",e.api=r,e.cars=[],e.newCar={},e.api.list().success(function(r){e.cars=r}),e.addCar=function(t,c,n){var o={make:t,model:c,year:n};r.addCar(o).then(function(r){e.cars.push(r.data.car),e.newCar={},a.document.querySelectorAll("#new-car-form input")[0].focus()})}}function carDetailController(r,a,t){var e=this;e.name="Car Detail",e.api=r,e.car=null,e.editing=!1,e.showCar=function(r){e.api.show(r).success(function(r){e.car=r,console.log(r)})},e.showCar(a.carId),e.updateCar=function(r,a,t,c){var n={make:a,model:t,year:c};e.api.updateCar(r,n).success(function(r){console.log(r),e.car=r,e.editing=!1})},e.removeCar=function(r){e.api.removeCar(r).success(function(r){console.log(r),t.path("/cars")})}}function carRoutes(r,a){a.otherwise("/cars"),r.state("cars",{url:"/cars",templateUrl:"partials/car-list.html",controller:"carsController as carsCtrl"}).state("detail",{url:"/cars/:carId",templateUrl:"partials/car-detail.html",controller:"carDetailController as carDetailCtrl"})}angular.module("carsApp",["ui.router"]).directive("navBar",navBar).directive("carForm",carForm).filter("reverse",reverse),angular.module("carsApp").factory("cars",cars),cars.$inject=["$http"],angular.module("carsApp").controller("carsController",carsController).controller("carDetailController",carDetailController),carsController.$inject=["cars","$window"],carDetailController.$inject=["cars","$stateParams","$location"],angular.module("carsApp").config(carRoutes),carRoutes.$inject=["$stateProvider","$urlRouterProvider"];